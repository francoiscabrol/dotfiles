#!/bin/sh
exec scala "$0" "$@"
!#

import java.io.File
import sys.process._

object Script {

def getListOfFiles(dir: File):List[File] = dir.listFiles.filter(_.isDirectory).filter(!_.isHidden).toList
  def execute(cmd: String, folder: File) = sys.process.Process(cmd, folder).!!
  def isUpToDate(folder: File) = execute("git status", folder).contains("up-to-date")

  def main(args: Array[String]) {
    val folders = getListOfFiles(new File("."))
    folders foreach((folder) => {
        print(folder + ": ")
        if (isUpToDate(folder)) println("up-to-date") else println("not")
    })
  }
}

Script.main(args)

